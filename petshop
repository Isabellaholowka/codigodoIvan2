package br.com.petshop;

import java.util.ArrayList;
import java.util.Scanner;

// Classe principal que gerencia o sistema de cadastro de animais
public class petshop {
    private Scanner scanner = new Scanner(System.in);
    private ArrayList<Animal> animais = new ArrayList<>();

    // Método iniciar() adicionado
    public void iniciar() {
        int opcao = 0;

        do {
            // Exibição do menu de opções
            System.out.println("\n=== MENU ===");
            System.out.println("1 - Cadastrar Cachorro");
            System.out.println("2 - Cadastrar Gato");
            System.out.println("3 - Cadastrar Hamster");
            System.out.println("4 - Exibir Animais");
            System.out.println("5 - Sair");
            System.out.print("Escolha uma opção: ");

            if (scanner.hasNextInt()) {
                opcao = scanner.nextInt();
                scanner.nextLine(); // Consumir a quebra de linha
            } else {
                System.out.println("Opção inválida! Digite um número.");
                scanner.nextLine();
                continue;
            }

            switch (opcao) {
                case 1:
                    System.out.print("Nome do cachorro: ");
                    String nomeCachorro = scanner.nextLine();
                    System.out.print("Idade do cachorro: ");
                    int idadeCachorro = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("Raça do cachorro: ");
                    String raca = scanner.nextLine();
                    animais.add(new cachorro(nomeCachorro, idadeCachorro, raca));
                    System.out.println("Cachorro cadastrado com sucesso!");
                    break;

                case 2:
                    System.out.print("Nome do gato: ");
                    String nomeGato = scanner.nextLine();
                    System.out.print("Idade do gato: ");
                    int idadeGato = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("Cor do pelo do gato: ");
                    String corPelo = scanner.nextLine();
                    animais.add(new gato(nomeGato, idadeGato, corPelo));
                    System.out.println("Gato cadastrado com sucesso!");
                    break;

                case 3:
                    System.out.print("Nome do hamster: ");
                    String nomeHamster = scanner.nextLine();
                    System.out.print("Idade do hamster: ");
                    int idadeHamster = scanner.nextInt();
                    scanner.nextLine();
                    System.out.print("Cor do pelo do hamster: ");
                    String corHamster = scanner.nextLine();
                    animais.add(new hamster(nomeHamster, idadeHamster, corHamster));
                    System.out.println("Hamster cadastrado com sucesso!");
                    break;

                case 4:
                    System.out.println("\n=== Lista de Animais Cadastrados ===");
                    for (Animal animal : animais) {
                        animal.exibirInfo();
                        System.out.println("------------------------");
                    }
                    break;

                case 5:
                    System.out.println("Encerrando o programa...");
                    break;

                default:
                    System.out.println("Opção inválida! Tente novamente.");
            }
        } while (opcao != 5);

        scanner.close();
    }

    public static void main(String[] args) {
        petshop loja = new petshop();
        loja.iniciar(); // Agora o método iniciar() existe e pode ser chamado
    }
}